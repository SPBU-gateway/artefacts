# artefacts
## КБП
### Краткое описание назначения и применения продукта
Продукт -- шлюз, который отправляет данные от некоторых устройств в облако для пользователя.  
#### Ценности продукта и негативные события в их отношении
| Ценность |Негативное событие | Величина ущерба | Комментарий |
|---------------------|---------------------|---------------------|---------------------|
| Облачное хранилище  |Поддельный девайс| Средний | В облако уйдут данные от нереального устройства |
| Девайс  |Поломка девайса| Низкий | Атака девайса извне |
| Система шлюза |Взлом шлюза и отправка данных в чужое облако| Высокий | Отправка данных производства в облако негодяев |
| Система шлюза | Подмена реальных данных устройства/устройств | Высокий |Пользователь может предпринять неверные решения на некорректных данных|
| Система шлюза | Полная поломка шлюза | Низкий |Событие заметное, будет сразу заметно, что был взлом|

### Роли пользователей
| Роль |Описание                        | 
|------|--------------------------------|
|Клиент|Непосредственный владелец данных|
|Клиент|Знает адрес нужного облака, может брать оттуда данные|
|Облако|Не имеет доступа к шлюзу|
|Облако|Получает данные от шлюза|
|Девайс|Не получает данные извне|
|Девайс|С некоторой периодичностью отправляет некоторую отчётность|

## Контекст

![alt text](diagrams/context/context.png)

## Базовый сценарий
![basic_scenary](diagrams/basicScenary/basic-scenary.png)

## Основные блоки шлюза
| Компонент |Описание                        | 
|-----------|--------------------------------|
|Auth|Выполняет аутентификацию устройств|
|Gateway|Получает запросы от клиента, получает данные от HUB,отправляет данные в облако|
|HUB|Получает данные от девайса, валидирует данные, кэширует данные до запроса клиента|

## Архитектура (HLA) v.0.01
![alt text](diagrams/architectory-hla-0-01/architectory-0-01.png)

## Базовый сценарий + HLA
![alt text](diagrams/basicScenaryHla/basic-scenary-hla.png)
## ЦПБ
### Цели безопасности
1. В облако попадают данные только от аутентичных девайсов
2. В облако передаются только валидные данные
3. Данные передаются только в аутентичное и авторизованное облако
4. Шлюз обрабатывает только аутентичные запросы от авторизованных клиентов
### Предположения безопасности 
1. Девайсы благонадёжны


## Негативные сценарии
### Негативный сценарий 1. В облако попадают данные от неаутентичных девайсов.
![alt text](diagrams/negative_scenarios/SG-1/Negative-scenario.Attack-on-Auth.SG-1.png)
### Негативный сценарий 2. В облако передаются невалидные данные.
![alt text](diagrams/negative_scenarios/SG-2/Negative-scenario.Attack-on-Hub.SG-2.png)
### Негативный сценарий 3. Данные передаются в неаутентичное и неавторизованное облако
![alt text](diagrams/negative_scenarios/SG-3/Negative-scenario.Attack-on-Gateway.SG-3.png)
### Негативный сценарий 4. Шлюз обрабатывает неаутентичные запросы от неавторизованных клиентов
![alt text](diagrams/negative_scenarios/SG-4/Negative-scenario.Attack-on-Gateway.SG-4.png)
